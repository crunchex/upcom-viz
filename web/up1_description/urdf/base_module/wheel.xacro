<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="up1">

  <xacro:macro name="wheel" params="prefix reflect">
    <!-- ============================   Wheel   ============================ -->

    <!-- Front Wheel Joint -->
    <joint name="base_to_${prefix}_front_wheel" type="continuous">
      <parent link="base_link" />
      <child link="${prefix}_front_wheel" />
      <origin rpy="${reflect*pi/2} 0 0"
          xyz="${front_wheel_offset_x} ${-reflect*front_wheel_offset_y} ${front_wheel_offset_z}" />
      <axis xyz="0 0 ${-reflect*1}" />
    </joint>
    <!-- Front Wheel Link -->
    <link name="${prefix}_front_wheel">
      <visual>
        <geometry>
          <mesh filename="package://up1_description/meshes/base/wheel_viz.dae" scale="0.001 0.001 0.001" />
        </geometry>
        <material name="black" />
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://up1_description/meshes/base/wheel.dae" scale="0.001 0.001 0.001" />
        </geometry>
      </collision>
      <inertial>
        <mass value="0.01791"/>
        <inertia ixx="0.00000575118" ixy="-0.00000000224" ixz="0.0"
                 iyy="0.00000575882" iyz="0.0" izz="0.0000094354"/>
      </inertial>
    </link>

    <!-- Back Wheel Joint -->
    <joint name="base_to_${prefix}_back_wheel" type="continuous">
      <parent link="base_link" />
      <child link="${prefix}_back_wheel" />
      <origin rpy="${reflect*pi/2} 0 0"
          xyz="${back_wheel_offset_x} ${-reflect*back_wheel_offset_y} ${back_wheel_offset_z}" />
      <axis xyz="0 0 ${-reflect*1}" />
    </joint>
    <!-- Back Wheel Link -->
    <link name="${prefix}_back_wheel">
      <visual>
        <geometry>
          <mesh filename="package://up1_description/meshes/base/wheel_viz.dae" scale="0.001 0.001 0.001" />
        </geometry>
        <material name="black" />
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://up1_description/meshes/base/wheel.dae" scale="0.001 0.001 0.001" />
        </geometry>
      </collision>
      <inertial>
        <mass value="0.01791"/>
        <inertia ixx="0.00000575118" ixy="-0.00000000224" ixz="0.0"
                 iyy="0.00000575882" iyz="0.0" izz="0.0000094354"/>
      </inertial>
    </link>

  </xacro:macro>

</robot>
